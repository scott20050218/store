<!--pages/inbound/inbound.wxml-->
<navigation-bar title="å…¥åº“" back="{{true}}"  color="black" background="#FFF"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">

    <view class="form-card">
      <!-- å…¥åº“æ—¶é—´ï¼šä»…æ˜¾ç¤ºå½“å‰æ—¶é—´ï¼Œä¸å¯ç¼–è¾‘ -->
      <view class="form-item">
        <text class="form-label">å…¥åº“æ—¶é—´</text>
        <view class="form-value-readonly">
          <text>{{inboundDateTime || '--'}}</text>
        </view>
      </view>

      <!-- ç‰©å“ç±»å‹ï¼šé€‰æ‹©æˆ–è‡ªå®šä¹‰ -->
      <view class="form-item">
        <text class="form-label">ç‰©å“ç±»å‹</text>
        <picker mode="selector" range="{{itemTypes}}" value="{{typeIndex}}" bindchange="onTypeChange">
          <view class="picker-value">
            <text>{{itemTypes[typeIndex]}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>
      <view class="form-item custom-type-item" wx:if="{{showCustomInput}}">
        <text class="form-label">è‡ªå®šä¹‰ç±»å‹</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥ç‰©å“ç±»å‹" value="{{customType}}" bindinput="onCustomTypeInput" />
      </view>

      

       <!-- ç”Ÿäº§æ—¥æœŸï¼ˆé€‰å¡«ï¼‰ -->
      <view class="form-item">
        <text class="form-label">ç”Ÿäº§æ—¥æœŸ<text class="optional">é€‰å¡«</text></text>
        <picker mode="date" value="{{productionDate}}" bindchange="onProductionDateChange">
          <view class="picker-value">
            <text class="{{productionDate ? '' : 'placeholder'}}">{{productionDate || 'è¯·é€‰æ‹©'}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>

      <!-- åˆ°æœŸæ—¥æœŸï¼šä¸ç”Ÿäº§æ—¥æœŸä¸€æ ·ä½¿ç”¨æ—¥æœŸé€‰æ‹©å™¨ -->
      <view class="form-item">
        <text class="form-label">åˆ°æœŸæ—¥æœŸ</text>
        <picker mode="date" value="{{expiryDate}}" bindchange="onExpiryDateChange">
          <view class="picker-value">
            <text class="{{expiryDate ? '' : 'placeholder'}}">{{expiryDate || 'è¯·é€‰æ‹©'}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>

      <!-- åˆ°æœŸæé†’ï¼šè¿˜æœ‰å¤šå°‘å¤©è¿‡æœŸæ—¶æé†’ï¼ˆ3å¤©/7å¤©ï¼‰ -->
      <view class="form-item">
        <text class="form-label">åˆ°æœŸå‰æé†’</text>
        <picker mode="selector" range="{{reminderOptions}}" value="{{reminderIndex}}" bindchange="onReminderChange">
          <view class="picker-value">
            <text>{{reminderOptions[reminderIndex]}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>

     

      <!-- æ•°é‡ï¼šä»…æ•°å­—ã€ä»…æ­£æ•° -->
      <view class="form-item">
        <text class="form-label">æ•°é‡</text>
        <input class="form-input" type="digit" inputmode="numeric" placeholder="è¯·è¾“å…¥æ­£æ•´æ•°" value="{{quantity}}" bindinput="onQuantityInput" />
      </view>

      <!-- å•ä½ï¼šé€‰æ‹©æˆ–è‡ªå®šä¹‰ -->
      <view class="form-item">
        <text class="form-label">å•ä½</text>
        <picker mode="selector" range="{{units}}" value="{{unitIndex}}" bindchange="onUnitChange">
          <view class="picker-value">
            <text>{{units[unitIndex]}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>
      <view class="form-item custom-type-item" wx:if="{{showCustomUnitInput}}">
        <text class="form-label">è‡ªå®šä¹‰å•ä½</text>
        <input class="form-input" placeholder="è¯·è¾“å…¥å•ä½" value="{{customUnit}}" bindinput="onCustomUnitInput" />
      </view>

      <!-- æ ‡ç­¾é€‰æ‹©ï¼ˆé¢œè‰²ï¼‰ -->
      <view class="form-item form-item-col">
        <text class="form-label">æ ‡ç­¾</text>
        <view class="tag-list">
          <view
            class="tag-item {{tagIndex === index ? 'selected' : ''}}"
            wx:for="{{tagColors}}"
            wx:key="index"
            data-index="{{index}}"
            style="background-color: {{item}}"
            bindtap="onTagSelect"
          >
            <text class="tag-check" wx:if="{{tagIndex === index}}">âœ“</text>
          </view>
        </view>
      </view>

      <!-- ä½ç½®é€‰æ‹© -->
      <view class="form-item">
        <text class="form-label">ä½ç½®</text>
        <picker mode="selector" range="{{locationOptions}}" value="{{locationIndex}}" bindchange="onLocationChange">
          <view class="picker-value">
            <text class="{{locationIndex > 0 ? '' : 'placeholder'}}">{{locationOptions[locationIndex]}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>

      <!-- æ‹ç…§ -->
      <view class="form-item form-item-col">
        <text class="form-label">æ‹ç…§</text>
        <view class="photo-area">
          <view class="photo-btn" wx:if="{{!photoPath}}" bindtap="onTakePhoto">
            <text class="photo-icon">ğŸ“·</text>
            <text class="photo-text">æ‹ç…§/é€‰æ‹©å›¾ç‰‡</text>
          </view>
          <view class="photo-preview" wx:else>
            <image class="photo-img" src="{{photoPath}}" mode="aspectFill" />
            <view class="photo-remove" bindtap="onRemovePhoto">åˆ é™¤</view>
          </view>
        </view>
      </view>
    </view>

    <button class="submit-btn" bindtap="onSubmit">ç¡®è®¤å…¥åº“</button>
  </view>
</scroll-view>
