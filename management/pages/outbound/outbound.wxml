<!--pages/outbound/outbound.wxml-->
<navigation-bar title="å‡ºåº“" back="{{true}}"  color="black" background="#FFF"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <view class="list-header">
      <text class="list-title">ç‰©å“åˆ—è¡¨</text>
      <text class="list-hint">ç‚¹å‡»ã€Œå‡ºåº“ã€æŒ‰é’®è¿›è¡Œå‡ºåº“æ“ä½œ</text>
    </view>

    <view class="item-list" wx:if="{{list.length > 0}}">
      <view class="item-row" wx:for="{{list}}" wx:key="id">
        <view class="item-main">
          <view class="item-name-row">
            <text class="item-name">{{item.itemType}}</text>
            <view class="item-tag" wx:if="{{item.tag}}" style="background-color: {{item.tag}}"></view>
          </view>
          <text class="item-qty">æ•°é‡: {{item.quantity}} {{item.displayUnit}}</text>
        </view>
        <view class="item-action" data-index="{{index}}" bindtap="onOutboundTap">
          <text>å‡ºåº“</text>
        </view>
      </view>
    </view>

    <view class="empty" wx:else>
      <text class="empty-icon">ğŸ“¦</text>
      <text class="empty-text">æš‚æ— åº“å­˜</text>
      <text class="empty-hint">è¯·å…ˆè¿›è¡Œå…¥åº“æ“ä½œ</text>
    </view>
  </view>
</scroll-view>

<!-- å‡ºåº“æ•°é‡å¼¹çª— -->
<view class="modal-mask" wx:if="{{showQuantityModal}}" bindtap="onCloseQuantityModal"></view>
<view class="modal-wrap" wx:if="{{showQuantityModal}}">
  <view class="modal-content" catchtap="">
    <view class="modal-title">å‡ºåº“æ•°é‡</view>
    <view class="modal-item" wx:if="{{outboundItem}}">
      <text class="modal-label">ç‰©å“ï¼š</text>
      <text class="modal-value">{{outboundItem.itemType}}</text>
      <view class="modal-tag" wx:if="{{outboundItem.tag}}" style="background-color: {{outboundItem.tag}}"></view>
    </view>
    <view class="modal-item">
      <text class="modal-label">å¯å‡ºåº“ï¼š</text>
      <text class="modal-value">{{outboundItem.quantity}} {{outboundItem.displayUnit}}</text>
    </view>
    <view class="modal-input-wrap">
      <text class="modal-label">å‡ºåº“æ•°é‡ï¼š</text>
      <input class="modal-input" type="digit" placeholder="è¯·è¾“å…¥æ•°é‡" value="{{outboundQuantity}}" bindinput="onQuantityInput" />
      <text class="modal-unit">{{outboundItem.displayUnit}}</text>
    </view>
    <view class="modal-btns">
      <view class="modal-btn cancel" bindtap="onCloseQuantityModal">å–æ¶ˆ</view>
      <view class="modal-btn confirm" bindtap="onConfirmOutbound">ç¡®å®š</view>
    </view>
  </view>
</view>
